import{_ as i,o as a,c as t,aj as e}from"./chunks/framework.CsBRgf-f.js";const g=JSON.parse('{"title":"Testing","description":"","frontmatter":{},"headers":[],"relativePath":"testing.md","filePath":"testing.md","lastUpdated":null}'),n={name:"testing.md"};function l(h,s,p,r,o,k){return a(),t("div",null,[...s[0]||(s[0]=[e('<h1 id="Testing" tabindex="-1">Testing <a class="header-anchor" href="#Testing" aria-label="Permalink to &quot;Testing {#Testing}&quot;">​</a></h1><p>To ensure that everything is working you can run tests for the package with:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pkg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> test AMDGPU</span></span></code></pre></div><h2 id="Advanced-testing-options" tabindex="-1">Advanced testing options <a class="header-anchor" href="#Advanced-testing-options" aria-label="Permalink to &quot;Advanced testing options {#Advanced-testing-options}&quot;">​</a></h2><p>AMDGPU tests use <a href="https://juliatesting.github.io/ParallelTestRunner.jl" target="_blank" rel="noreferrer">ParallelTestRunner.jl</a> which allow for <a href="https://juliatesting.github.io/ParallelTestRunner.jl/dev/#Running-Tests" target="_blank" rel="noreferrer">running tests with various (command line) options</a> and on multiple runners in parallel.</p><p>To, e.g., launch a subset of tests <code>core</code> and <code>kernelabstractions</code> on 4 runners in parallel:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Pkg</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Pkg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;AMDGPU&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; test_args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`--jobs=4 core kernelabstractions`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>The full list of tests to run can be obtained with <code>--list</code> argument:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Pkg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;AMDGPU&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; test_args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`--list`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h2 id="Testing-categories" tabindex="-1">Testing categories <a class="header-anchor" href="#Testing-categories" aria-label="Permalink to &quot;Testing categories {#Testing-categories}&quot;">​</a></h2><p>Although tests can be run in a custom fashion upon exploring the output of listing (using the <code>--list</code> test argument), tests are organised such that grouping by relevant categories is possible:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>core device hip external gpuarrays kernelabstractions wmma enzyme</span></span></code></pre></div><p>which allows to, e.g., run all <code>gpuarrays</code> related tests as:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Pkg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;AMDGPU&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; test_args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`gpuarrays`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">Large memory tests</p><p>Some tests such as HIP and GPUArrays tests may use &gt; 20GB of host RAM. It is recommended to use fewer workers (&lt;= 4) on machines that have &lt; 32Gb of host RAM in case running tests would result in out of memory errors.</p></div>',15)])])}const c=i(n,[["render",l]]);export{g as __pageData,c as default};
